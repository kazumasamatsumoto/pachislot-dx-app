<div class="netflix-theme">
  <div class="header">
    <h1>カチカチ君<span class="subtitle">スロット解析ツール</span></h1>
  </div>

  <div class="main-container">
    <div class="spins-counter glass-effect">
      <div class="spins-input">
        <input
          type="number"
          [(ngModel)]="spinsInput"
          placeholder="回転数を入力"
          min="0"
          (keyup.enter)="updateSpins()"
          class="modern-input"
        />
        <button (click)="updateSpins()" class="netflix-button">更新</button>
      </div>
      <div class="total-spins">総回転数: {{ totalSpins }}</div>
    </div>

    <div class="counter-grid">
      <div class="counter-item glass-effect">
        <div class="counter-header">
          <div class="counter-icon">🍇</div>
          <div class="counter-label">ブドウ</div>
        </div>
        <div class="counter-content">
          <div class="counter-input-group">
            <button class="count-button" (click)="incrementCount('grape')">
              +1
            </button>
            <input
              type="number"
              [(ngModel)]="grapeCount"
              min="0"
              class="modern-input"
              (change)="validateInput('grape')"
            />
          </div>
          <div class="probability">
            <div class="probability-value">
              確率: {{ calculateProbabilityFraction(grapeCount) }}
            </div>
            <div class="setting-range">{{ determineGrapeSettings() }}</div>
          </div>
        </div>
      </div>

      <div class="counter-item glass-effect">
        <div class="counter-header">
          <div class="counter-icon">🍒</div>
          <div class="counter-label">角チェリー+BIG</div>
        </div>
        <div class="counter-content">
          <div class="counter-input-group">
            <button class="count-button" (click)="incrementCount('cherryBig')">
              +1
            </button>
            <input
              type="number"
              [(ngModel)]="cherryBigCount"
              min="0"
              class="modern-input"
              (change)="validateInput('cherryBig')"
            />
          </div>
          <div class="probability">
            <div class="probability-value">
              確率: {{ calculateProbabilityFraction(cherryBigCount) }}
            </div>
            <div class="setting-range">{{ determineCherryBigSettings() }}</div>
          </div>
        </div>
      </div>

      <div class="counter-item glass-effect">
        <div class="counter-header">
          <div class="counter-icon">🍒</div>
          <div class="counter-label">角チェリー+REG</div>
        </div>
        <div class="counter-content">
          <div class="counter-input-group">
            <button class="count-button" (click)="incrementCount('cherryReg')">
              +1
            </button>
            <input
              type="number"
              [(ngModel)]="cherryRegCount"
              min="0"
              class="modern-input"
              (change)="validateInput('cherryReg')"
            />
          </div>
          <div class="probability">
            <div class="probability-value">
              確率: {{ calculateProbabilityFraction(cherryRegCount) }}
            </div>
            <div class="setting-range">{{ determineCherryRegSettings() }}</div>
          </div>
        </div>
      </div>

      <div class="counter-item glass-effect">
        <div class="counter-header">
          <div class="counter-icon">🍒</div>
          <div class="counter-label">角チェリー+ボーナス</div>
        </div>
        <div class="counter-content">
          <div class="counter-input-group">
            <button
              class="count-button"
              (click)="incrementCount('cherryBonus')"
            >
              +1
            </button>
            <input
              type="number"
              [(ngModel)]="cherryBonusCount"
              min="0"
              class="modern-input"
              (change)="validateInput('cherryBonus')"
            />
          </div>
          <div class="probability">
            <div class="probability-value">
              確率: {{ calculateProbabilityFraction(cherryBonusCount) }}
            </div>
            <div class="setting-range">
              {{ determineCherryBonusSettings() }}
            </div>
          </div>
        </div>
      </div>

      <div class="counter-item glass-effect">
        <div class="counter-header">
          <div class="counter-icon">🍒</div>
          <div class="counter-label">非重複チェリー</div>
        </div>
        <div class="counter-content">
          <div class="counter-input-group">
            <button
              class="count-button"
              (click)="incrementCount('cherryNormal')"
            >
              +1
            </button>
            <input
              type="number"
              [(ngModel)]="cherryNormalCount"
              min="0"
              class="modern-input"
              (change)="validateInput('cherryNormal')"
            />
          </div>
          <div class="probability">
            <div class="probability-value">
              確率: {{ calculateProbabilityFraction(cherryNormalCount) }}
            </div>
            <div class="setting-range">
              {{ determineCherryNormalSettings() }}
            </div>
          </div>
        </div>
      </div>

      <div class="counter-item glass-effect">
        <div class="counter-header">
          <div class="counter-icon">💰</div>
          <div class="counter-label">ビッグボーナス</div>
        </div>
        <div class="counter-content">
          <div class="counter-input-group">
            <button class="count-button" (click)="incrementCount('bigBonus')">
              +1
            </button>
            <input
              type="number"
              [(ngModel)]="bigBonusCount"
              min="0"
              class="modern-input"
              (change)="validateInput('bigBonus')"
            />
          </div>
          <div class="probability">
            <div class="probability-value">
              確率: {{ calculateProbabilityFraction(bigBonusCount) }}
            </div>
            <div class="setting-range">{{ determineBigBonusSettings() }}</div>
          </div>
        </div>
      </div>

      <div class="counter-item glass-effect">
        <div class="counter-header">
          <div class="counter-icon">💎</div>
          <div class="counter-label">レギュラーボーナス</div>
        </div>
        <div class="counter-content">
          <div class="counter-input-group">
            <button
              class="count-button"
              (click)="incrementCount('regularBonus')"
            >
              +1
            </button>
            <input
              type="number"
              [(ngModel)]="regularBonusCount"
              min="0"
              class="modern-input"
              (change)="validateInput('regularBonus')"
            />
          </div>
          <div class="probability">
            <div class="probability-value">
              確率: {{ calculateProbabilityFraction(regularBonusCount) }}
            </div>
            <div class="setting-range">
              {{ determineRegularBonusSettings() }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="total-bonus-display glass-effect">
      <div class="total-probability">
        合算確率:
        {{ calculateProbabilityFraction(bigBonusCount + regularBonusCount) }}
      </div>
      <div class="total-setting-range">
        {{ determineTotalBonusSettings() }}
      </div>
    </div>

    <button (click)="resetCounters()" class="netflix-button reset-button">
      リセット
    </button>
  </div>
</div>
